<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expense Hub</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/auth.css">
</head>
<body>
    <div class="auth-container">
        <!-- Branding Section -->
        <div class="auth-branding">
            <div class="logo">
                <div class="logo-icon">EM</div>
                <div class="logo-text">Expense Manager</div>
            </div>
            
            <h2>Welcome to Your Complete Expense Management Solution</h2>
            <p>Streamline your business expense tracking, approvals, and reporting with our comprehensive platform.</p>
            
            <ul class="features-list">
                <li>
                    <div class="feature-icon">✓</div>
                    <span>Track expenses in real-time</span>
                </li>
                <li>
                    <div class="feature-icon">✓</div>
                    <span>Manager approval workflows</span>
                </li>
                <li>
                    <div class="feature-icon">✓</div>
                    <span>Role-based access control</span>
                </li>
            </ul>
        </div>

        <!-- Form Section -->
        <div class="auth-form-section">
            <%- include("./includes/flash.ejs") %>
            <div class="auth-tabs">
                <button class="auth-tab active" onclick="switchTab('login')">Login</button>
                <button class="auth-tab" onclick="switchTab('signup')">Create Account</button>
            </div>
            <!-- Login Form -->
            <form class="auth-form active" id="loginForm" action="/auth/login" method="post">
                <div class="error-message" id="loginError"></div>
                
                <div class="form-group">
                    <label class="form-label" for="loginEmail">Email Address</label>
                    <input 
                        type="email" 
                        id="loginEmail" 
                        class="form-input" 
                        placeholder="Enter your email"
                        name="email"
                        required
                    >
                </div>

                <div class="form-group">
                    <label class="form-label" for="loginPassword">Password</label>
                    <input 
                        type="password" 
                        id="loginPassword" 
                        class="form-input" 
                        placeholder="Enter your password"
                        name="password"
                        required
                    >
                </div>

                <div class="form-group">
                    <label class="form-label" for="loginRole">Select Your Role</label>
                    <select id="loginRole" class="form-select" name="role" required>
                        <option value="">Choose role...</option>
                        <option value="admin">Admin</option>
                        <option value="manager">Manager</option>
                        <option value="user">Employee</option>
                    </select>
                </div>

                <button type="submit" class="submit-btn">Login</button>
            </form>

            <!-- Signup Form -->
            <form class="auth-form" id="signupForm" action="/auth/signup" method="post">
                <div class="error-message" id="signupError"></div>
                <div class="success-message" id="signupSuccess"></div>

                <div class="form-group">
                    <label class="form-label" for="companyName">Company Name</label>
                    <input 
                        type="text" 
                        id="companyName" 
                        class="form-input" 
                        placeholder="Enter company name"
                        name="company[name]"
                        required
                    >
                </div>

                <div class="form-group">
                    <label class="form-label" for="companyAddress">Company Address</label>
                    <textarea 
                        id="companyAddress" 
                        class="form-textarea" 
                        placeholder="Enter company address"
                        name="company[address]"
                        required
                    ></textarea>
                </div>

                <div class="form-group">
                    <label class="form-label" for="adminName">Admin Name</label>
                    <input 
                        type="text" 
                        id="adminName" 
                        class="form-input" 
                        placeholder="Enter admin name"
                        name="company[adminname]"
                        required
                    >
                </div>
                <div class="form-group">
                    <label class="form-label" for="adminEmail">Admin Email</label>
                    <input 
                        type="email" 
                        id="adminEmail" 
                        class="form-input" 
                        placeholder="Enter admin email"
                        name="company[email]"
                        required
                    >
                </div>

                <div class="form-group">
                    <label class="form-label" for="adminPassword">Password</label>
                    <input 
                        type="password" 
                        id="adminPassword" 
                        class="form-input" 
                        placeholder="Create a strong password"
                        minlength="8"
                        name="company[password]"
                        required
                    >
                    <p class="form-help">Password must be at least 8 characters</p>
                </div>

                <!-- <div class="form-group">
                    <label class="form-label" for="confirmPassword">Confirm Password</label>
                    <input 
                        type="password" 
                        id="confirmPassword" 
                        class="form-input" 
                        placeholder="Confirm your password"
                        required
                    >
                </div> -->

                <button type="submit" class="submit-btn">Create Company Account</button>
            </form>
        </div>
    </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
                integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
                crossorigin="anonymous"></script>
    <script>
        function switchTab(tab) {
            // Update tab buttons
            const tabs = document.querySelectorAll('.auth-tab');
            tabs.forEach(t => t.classList.remove('active'));
            event.target.classList.add('active');

            // Update forms
            const forms = document.querySelectorAll('.auth-form');
            forms.forEach(f => f.classList.remove('active'));
            
            if (tab === 'login') {
                document.getElementById('loginForm').classList.add('active');
            } else {
                document.getElementById('signupForm').classList.add('active');
            }
        }

    </script>
</body>
</html>